<!DOCTYPE html>
<html lang="vi-EN" />
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Codable swift 4 &middot; VietHQ</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://gg4acrossover.github.io/hugosite/favicon.ico" />
    <link rel="canonical" href="https://gg4acrossover.github.io/hugosite/codable-swift4/" />

     <meta name="description" content="Codable là gì? Chắc hẳn ở swift 3 đa số chúng ta sử dụng lib ObjectMapper để parse json thành model. Thư viện này khá tiện dụng, tuy nhiên có một nhược điểm là " /> 

     
    
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="https://gg4acrossover.github.io/hugosite/images/cover/2.jpg"/>
    
 
    <meta name="twitter:title" content="Codable swift 4"/>
    <meta name="twitter:description" content="Codable là gì? Chắc hẳn ở swift 3 đa số chúng ta sử dụng lib ObjectMapper để parse json thành model. Thư viện này khá tiện dụng, tuy nhiên có một nhược điểm là "/>
    <meta name="twitter:url" content="https://gg4acrossover.github.io/hugosite/codable-swift4/" />
    <meta name="twitter:site" content="@"/>

    <meta property="og:site_name" content="VietHQ" />
    <meta property="og:title" content="Codable swift 4 &middot; VietHQ" />
    <meta property="og:url" content="https://gg4acrossover.github.io/hugosite/codable-swift4/" />
    

    <meta property="og:type" content="article" />
    <meta property="og:description" content="Codable là gì? Chắc hẳn ở swift 3 đa số chúng ta sử dụng lib ObjectMapper để parse json thành model. Thư viện này khá tiện dụng, tuy nhiên có một nhược điểm là " />

    <meta property="article:published_time" content="2017-11-18T10:10:10&#43;07:00" />
    <meta property="article:tag" content="swift" /><meta property="article:tag" content="ios" />

    <meta property="og:image" content="https://gg4acrossover.github.io/hugosite/images/cover/2.jpg"/>


    <meta name="generator" content="Hugo 0.37.1" />

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="https://gg4acrossover.github.io/hugosite/built/screen.css" /> 
    <link rel="stylesheet" type="text/css" href="https://gg4acrossover.github.io/hugosite/css/casper-two.css" /> 
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" />
    

     

</head>


<body class="post-template">
  <div class="site-wrapper"> 

<header class="site-header outer">
  <div class="inner">
    <nav class="site-nav">
      <div class="site-nav-left">

        <ul class="nav" role="menu">
        
        
        
            <li class="" role="menuitem">
              <a href="https://twitter.com/viet142">Twitter</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="https://github.com/gg4acrossover">Github</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/hugosite/about/">About me</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/hugosite/">Home</a>
            </li>
        
      </ul></div>

      <div class="site-nav-right">
        <div class="social-links">
                    

                    

                    

                    

                    
        </div>  
            
      </div>

    </nav>  

  </div>
</header>

<main id="site-main" class="site-main outer" role="main">
  <div class="inner">
    
      <article class="post-full post"> 
    <header class="post-full-header">
        <section class="post-full-meta">
            <time class="post-full-meta-date" datetime="2017-11-18">18 November 2017</time>
                <span class="date-divider">/</span> <a href="https://gg4acrossover.github.io/hugosite/tags/swift/">#swift</a>&nbsp;<a href="https://gg4acrossover.github.io/hugosite/tags/ios/">#ios</a>&nbsp;
        </section>
        <h1 class="post-full-title">Codable swift 4</h1>
    </header>
    
    <figure class="post-full-image" style="background-image: url(https://gg4acrossover.github.io/hugosite/images/cover/2.jpg)">
    </figure>

    <section class="post-full-content">
        <div class="kg-card-markdown">
        

<h2 id="codable-là-gì">Codable là gì?</h2>

<p>Chắc hẳn ở swift 3 đa số chúng ta sử dụng lib <em>ObjectMapper</em> để parse json thành model. Thư viện này khá tiện dụng, tuy nhiên có một nhược điểm là chúng ta vẫn phải viết hàm map key. Điều này mình không thích lắm, trước đây objc có <em>JSONModel</em> parse thông minh hơn hẳn, ai dùng qua chắc đều biết. Đáng tiếc là ở swift không có thằng nào như vầy cả.</p>

<p>Tuy nhiên điều đó đã thay đổi khi swift 4 xuất hiện đi kèm với <strong>Codable</strong>. Vậy <strong>Codable</strong> là gì?</p>

<p>Theo như Apple quảng cáo, <strong>Codable</strong> giúp ta được 2 việc:</p>

<ul>
<li>Encodable dùng để encoding</li>
<li>Decodable dùng để decoding</li>
</ul>

<blockquote>
<p>/// A type that can convert itself into and out of an external representation.</p>

<p>public typealias Codable = Decodable &amp; Encodable</p>
</blockquote>

<p>Về bản chất <strong>Codable</strong> là một protocol kết hợp giữa 2 protocol <em>Encodable</em> và <em>Decodable</em>, mỗi protocol lại đảm nhận chức năng như nói ở trên. Có thể coi <em>Codable</em> tương đương với một chiêu hai thức :D</p>

<h2 id="decodable-như-thế-nào">Decodable như thế nào?</h2>

<p>Giả sử ta có một json string như sau</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">let json <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#e6db74">[{</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#e6db74">    &#34;</span>name<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;:&#34;</span>cross<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;,</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#e6db74">    &#34;</span>age<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;:10,</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#e6db74">    &#34;</span>birthDay<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;:&#34;</span><span style="color:#ae81ff">2017</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span><span style="color:#f92672">-</span><span style="color:#ae81ff">21</span> <span style="color:#ae81ff">20</span><span style="color:#f92672">:</span><span style="color:#ae81ff">20</span><span style="color:#f92672">+</span><span style="color:#ae81ff">0000</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#e6db74">}]</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#34;&#34;</span></code></pre></div>

<p>Chúng ta sẽ định nghĩa struct kế thừa <em>Codable</em></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#66d9ef">struct</span> User : Codable {
    var name: String<span style="color:#f92672">?</span>
    var age: Int <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    var birthDay: Date
}</code></pre></div>

<p>Giờ là lúc thức thứ nhất <em>Decodable</em> thể hiện sức mạnh</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#75715e">// parse json with JSONDecoder
</span><span style="color:#75715e"></span>let decoder <span style="color:#f92672">=</span> JSONDecoder()

let dateFormater <span style="color:#f92672">=</span> DateFormatter()
dateFormater.timeZone <span style="color:#f92672">=</span> TimeZone.current
dateFormater.dateFormat <span style="color:#f92672">=</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;yyyy-MM-dd HH:mmZ&#34;</span>
decoder.dateDecodingStrategy <span style="color:#f92672">=</span> .formatted(dateFormater)

<span style="color:#66d9ef">if</span> let data <span style="color:#f92672">=</span> json.data(using: .utf8) {
    <span style="color:#66d9ef">if</span> let items <span style="color:#f92672">=</span> try<span style="color:#f92672">?</span> decoder.decode([User].self, from: data),
        let date <span style="color:#f92672">=</span> items.first<span style="color:#f92672">?</span>.birthDay {
        print(dateFormater.string(from: date))
        print(items.first<span style="color:#f92672">?</span>.username <span style="color:#f92672">??</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;something wrong&#34;</span>)
    } <span style="color:#66d9ef">else</span> {
        print(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;error&#34;</span>)
    }
}</code></pre></div>

<p>Ở đây mình cố tình cho biến date vào trong json string, nên parse hơi dài (có thêm bước format data), tuy nhiên về cơ bản chỉ cần 2 dòng code tương ứng 2 bước:</p>

<ul>
<li>Convert json thành data</li>
<li>tạo đối tượng JSONDecoder để thực hiện decode</li>
</ul>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#75715e">// step 1
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> let data <span style="color:#f92672">=</span> json.data(using: .utf8) {
	<span style="color:#75715e">// step 2
</span><span style="color:#75715e"></span>	let items <span style="color:#f92672">=</span> try<span style="color:#f92672">?</span> JSONDecoder().decode([User].self, from: data)
	...
}</code></pre></div>

<p>Vì công thức chỉ có 2 bước, tương ứng với mọi đối tượng, thế nên mình có thể tạo Generic cho việc decoding như sau:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">typealias DecoderConfig <span style="color:#f92672">=</span> (JSONDecoder) <span style="color:#f92672">-&gt;</span> ()
func parseDecodableObject<span style="color:#f92672">&lt;</span>T: Decodable<span style="color:#f92672">&gt;</span>(data: Data,config: DecoderConfig<span style="color:#f92672">?</span>) throws <span style="color:#f92672">-&gt;</span> T {
    let decoder <span style="color:#f92672">=</span> JSONDecoder()
    config<span style="color:#f92672">?</span>(decoder)
    let injectObject <span style="color:#f92672">=</span> try decoder.decode(T.self, from: data)
    <span style="color:#66d9ef">return</span> injectObject
}</code></pre></div>

<p>Tương ứng với code sẽ rút ngắn đi như thế này</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">let item: [User] <span style="color:#f92672">=</span> try parseDecodableObject(data: data, config: config)</code></pre></div>

<p>Đôi khi, mình muốn đặt tên thuộc tính theo ý mình, không theo key trên server trả về, có được không nhỉ? <em>Decodable</em> bất chấp hết nhưng cần thêm 1 bước:</p>

<p>Giả sử ở <strong>struct User</strong> đầu ta đổi property name thành&hellip;username, ta sẽ phải thêm 1 enum <em>CodingKeys</em> kế thừa <em>CodingKey</em> vào trong struct User</p>

<p><img src="/hugosite/images/note/decodable.png" alt="image1" /></p>

<p>Có 2 điều bắt buộc đối với enum kế thừa <em>CodingKey</em>:</p>

<ul>
<li>Phải có type là <em>String</em>.</li>
<li>Các case phải trùng với tên thuộc tính của đối tượng. Với những thuộc tính cần mapping thì ta gán giá trị, vd: username gán giá trị là &ldquo;name&rdquo;(trùng với json key).</li>
</ul>

<h2 id="encoding-như-thế-nào">Encoding như thế nào?</h2>

<p>Thức thứ hai trong <em>Codable</em> là <em>Encodable</em>, về cơ bản nó ngược lại với <em>Decodable</em>, thế nên mình chỉ show code thôi.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">var user: User<span style="color:#f92672">?</span>
<span style="color:#66d9ef">if</span> let date <span style="color:#f92672">=</span> dateFormater.date(from: <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;2017-06-21 20:20+0000&#34;</span>) {
    user <span style="color:#f92672">=</span> User(username: <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;cross&#34;</span>, age: <span style="color:#ae81ff">10</span>, birthDay: date)
}

let encoder <span style="color:#f92672">=</span> JSONEncoder()
encoder.dateEncodingStrategy <span style="color:#f92672">=</span> .formatted(dateFormater)

<span style="color:#66d9ef">do</span> {
    let userData <span style="color:#f92672">=</span> try encoder.encode(user)
    let userJson <span style="color:#f92672">=</span> try JSONSerialization.jsonObject(with: userData, options: [])
    print(userJson)
} catch {
    print(error)
}</code></pre></div>

<p>Về tính ứng dụng: với <em>Encodable</em> ta dễ dàng lưu struct vào <em>UserDefaults</em> hoặc tạo params để post lên server chẳng hạn.</p>

<p>Source code của toàn bộ ví dụ: <a href="https://gist.github.com/gg4acrossover/f27b8b0c2336c5bb7fc7f1a311a29537">source</a></p>
    
        </div>
    </section>

    <footer class="post-full-footer">
      <section class="author-card">
        <img class="author-profile-image" src="https://gg4acrossover.github.io/hugosite/" alt="Author" />
        <section class="author-card-content">
            <h4 class="author-card-name"><a href="https://gg4acrossover.github.io/">crossover</a></h4>
                <p>VietHQ - Tìm đơn giản trong phức tạp</p>
        </section>
      </section>
    </footer>
</article>
    
    
    

<div id="disqus_thread"></div>
<script>




var disqus_config = function () {
this.page.url = "https:\/\/gg4acrossover.github.io\/hugosite\/codable-swift4\/";  
this.page.identifier = "https:\/\/gg4acrossover.github.io\/hugosite\/codable-swift4\/"; 
};

(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://gg4acrossover.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  </div>
</main>


<aside class="read-next outer">
  <div class="inner">
    <div class="read-next-feed">      
      
<article class="read-next-card" style="background-color: #090a0b;">
    <header class="read-next-card-header">
        <small class="read-next-card-header-sitetitle">&mdash; VietHQ &mdash;</small>
        
        <h3 class="read-next-card-header-title"><a href="https://gg4acrossover.github.io/hugosite/tags/swift/">#swift</a></h3>
    </header>
    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
    </div>

    <div class="read-next-card-content">
      
        <ul>
          <li><a href="https://gg4acrossover.github.io/hugosite/filter-sort-in-action/">Filter, sort in action</a></li>            
        
          <li><a href="https://gg4acrossover.github.io/hugosite/code-sach-code-kho-thoang/">Code sạch, code khô thoáng</a></li>            
        
          <li><a href="https://gg4acrossover.github.io/hugosite/t%E1%BA%A1o-function-trong-swift/">Tạo function trong swift</a></li>            
        
          <li><a href="https://gg4acrossover.github.io/hugosite/uu-tien-toan-tu/">Ưu tiên toán tử</a></li>            
        </ul>
    </div>
    <footer class="read-next-card-footer">
      
        <a href="https://gg4acrossover.github.io/hugosite/tags/swift/">See all related posts →</a>
    </footer>
</article>


      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="https://gg4acrossover.github.io/hugosite/method-dispatch/">
      <div class="post-card-image" style="background-image: url(https://gg4acrossover.github.io/hugosite/images/cover/9.jpg)"></div>
    </a>
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="https://gg4acrossover.github.io/hugosite/method-dispatch/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #swift 
              #ios  </span>
              
              <h2 class="post-card-title">Method dispath trong protocol</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>Method dispatch là gì? Method dispatch là thuật toán xác định cách thức vận hành method thông qua compiler. Nhắc đến method dispatch, thường người ta sẽ nói đến 2 kiểu điển hình:
 Static dispatch: xác định hàm được chạy trong quá trình biên dịch. Dynamic dispatch: xác định hàm được chạy trong quá trình runtime, cái này thể hiện rõ nhất qua tính đa hình trong OOP.  Với mỗi ngôn ngữ, tùy thuộc vào thiết kế mà có sự khác nhau về cách thức vận hành phương thức. ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="https://gg4acrossover.github.io/hugosite/" alt="Author" />
          <span class="post-card-author"><a href="/">viethq</a></span>
      </footer>
    </div>
</article>
      
      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="https://gg4acrossover.github.io/hugosite/date-la-gi/">
      <div class="post-card-image" style="background-image: url(https://gg4acrossover.github.io/hugosite/images/cover/4.jpg)"></div>
    </a>
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="https://gg4acrossover.github.io/hugosite/date-la-gi/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #swift  </span>
              
              <h2 class="post-card-title">Date là gì, có ăn được không?</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>Date Date là một đối tượng gần như không thể thiếu trong các app hiện nay. Nó xuất hiện trong lịch, trong thương mại điện tử, trong các app nhắc việc. Làm việc với date tưởng chừng như đơn giản nhưng lại là vấn đề hết sức đau đầu vì nó mang tính tương đối :D. Tỉ như ở Việt Nam, người dân đang vội vã đón con cuối chiều, nhưng ở nước khác, họ lại đang cafe buổi sáng. ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="https://gg4acrossover.github.io/hugosite/" alt="Author" />
          <span class="post-card-author"><a href="/">viethq</a></span>
      </footer>
    </div>
</article>
      
    </div>
  </div>
</aside>

<div class="floating-header">
  <div class="floating-header-logo">
    <a href="https://gg4acrossover.github.io/">
      
      <span>VietHQ</span>
    </a>
  </div>
  <span class="floating-header-divider">&mdash;</span>
  <div class="floating-header-title">Codable swift 4</div>
  <div class="floating-header-share">
    <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
     <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/></svg>
    </div>
    
    <a class="floating-header-share-tw" href="https://twitter.com/share?text=Codable%20swift%204&amp;url=https%3a%2f%2fgg4acrossover.github.io%2fhugosite%2fcodable-swift4%2f"
          onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
      </a>
      <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fgg4acrossover.github.io%2fhugosite%2fcodable-swift4%2f"
          onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
      </a>
  </div>

  <progress class="progress" value="0">
    <div class="progress-container">
      <span class="progress-bar"></span>
    </div>
  </progress>
</div>



<footer class="site-footer outer">
  <div class="site-footer-content inner">
    <section class="copyright" style="line-height: 1.3em;">
      <a href=https://gg4acrossover.github.io/hugosite/>viethq</a>  <br>
      
    </section>
    <nav class="site-footer-nav">
        <a href=https://gg4acrossover.github.io/hugosite/>Latest Posts</a>
        
        
        
        
        
    </nav>  
  </div>
</footer>

</div>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="https://gg4acrossover.github.io/hugosite/js/jquery.fitvids.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


  <!-- Google Analytics -->
  <script>
    var _gaq=[['_setAccount','UA-99127158-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>


    <script>





$(document).ready(function () {
    
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>
</body></html>
