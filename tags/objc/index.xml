<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Objc on GG4aCrossover</title>
    <link>https://gg4acrossover.github.io/hugosite/tags/objc/</link>
    <description>Recent content in Objc on GG4aCrossover</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>vi-EN</language>
    <copyright>All rights reserved - 2016</copyright>
    <lastBuildDate>Tue, 20 Sep 2016 16:01:11 +0700</lastBuildDate>
    <atom:link href="https://gg4acrossover.github.io/hugosite/tags/objc/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Transition Animation</title>
      <link>https://gg4acrossover.github.io/hugosite/transition-animation/</link>
      <pubDate>Tue, 20 Sep 2016 16:01:11 +0700</pubDate>
      
      <guid>https://gg4acrossover.github.io/hugosite/transition-animation/</guid>
      <description>

&lt;h3 id=&#34;gi·ªõi-thi·ªáu&#34;&gt;Gi·ªõi thi·ªáu&lt;/h3&gt;

&lt;p&gt;B·∫Øt ƒë·∫ßu t·ª´ IOS7, apple h·ªó tr·ª£ t·∫°o animation l√∫c chuy·ªÉn viewcontroller. Qu√° tr√¨nh chuy·ªÉn ƒë·ªïi ƒë∆∞·ª£c h·ªó tr·ª£ bao g·ªìm:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;NavigationController&lt;/li&gt;
&lt;li&gt;TabbarController&lt;/li&gt;
&lt;li&gt;Presentations v√† dismiss&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;M√¨nh s·∫Ω t·∫≠p trung v√†o custom animation &lt;em&gt;push&lt;/em&gt; v√† &lt;em&gt;pop&lt;/em&gt; v·ªõi &lt;em&gt;NavigationController&lt;/em&gt;. V·ªõi c√°c ph∆∞∆°ng th·ª©c chuy·ªÉn viewcontroller kh√°c th√¨ l√†m t∆∞∆°ng t·ª±.&lt;/p&gt;

&lt;h3 id=&#34;m√¥-h√¨nh-h√≥a&#34;&gt;M√¥ h√¨nh h√≥a&lt;/h3&gt;

&lt;p&gt;Gi·∫£ s·ª≠ b·∫°n c√≥ 2 viewcontroller A v√† B, b√¢y gi·ªù b·∫°n mu·ªën push t·ª´ A sang B.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://gg4acrossover.github.io/hugosite/hugosite/images/note/1.jpg&#34; alt=&#34;image1&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ƒê·∫ßu ti√™n, ta c·∫ßn kh·ªüi t·∫°o &lt;em&gt;transtion&lt;/em&gt; v√† x√°c ƒë·ªãnh ƒë∆∞·ª£c 2 viewcontroller c·∫ßn di chuy·ªÉn, l√∫c n√†y A ƒëang ƒë∆∞·ª£c ch·ª©a b·ªüi &lt;em&gt;container&lt;/em&gt;(l√† view ch·ª©a ƒë·ªÉ control vi·ªác di chuy·ªÉn)&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://gg4acrossover.github.io/hugosite/hugosite/images/note/2.jpg&#34; alt=&#34;image2&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Ti·∫øp theo add viewcontroller B v√†o container ƒëang ch·ª©a A.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://gg4acrossover.github.io/hugosite/hugosite/images/note/3.jpg&#34; alt=&#34;image2&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Cu·ªëi c√πng l√† th·ª±c hi·ªán animation chuy·ªÉn ƒë·ªïi gi·ªØa 2 m√†n h√¨nh, qu√° tr√¨nh k·∫øt th√∫c khi A ƒë∆∞·ª£c remove kh·ªèi container&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://gg4acrossover.github.io/hugosite/hugosite/images/note/4.jpg&#34; alt=&#34;image2&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;implement&#34;&gt;Implement&lt;/h3&gt;

&lt;p&gt;ƒê·ªÉ th·ª±c hi·ªán ƒë∆∞·ª£c m√¥ h√¨nh tr√™n, ta s·ª≠ d·ª•ng nh·ªØng protocol sau&lt;/p&gt;

&lt;h4 id=&#34;uinavigationcontrollerdelegate&#34;&gt;UINavigationControllerDelegate&lt;/h4&gt;

&lt;p&gt;Protocol c√≥ 2 method gi√∫p ta x√°c ƒë·ªãnh ƒë∆∞·ª£c c√°ch th·ª©c transition&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;-&lt;/span&gt; (nullable id &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;UIViewControllerInteractiveTransitioning&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;)&lt;span style=&#34;color: #A0A000&#34;&gt;navigationController&lt;/span&gt;:(UINavigationController &lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt;)navigationController
                          &lt;span style=&#34;color: #A0A000&#34;&gt;interactionControllerForAnimationController&lt;/span&gt;:(id &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;UIViewControllerAnimatedTransitioning&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;) animationController NS_AVAILABLE_IOS(&lt;span style=&#34;color: #666666&#34;&gt;7&lt;/span&gt;_0);

&lt;span style=&#34;color: #666666&#34;&gt;-&lt;/span&gt; (nullable id &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;UIViewControllerAnimatedTransitioning&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;)&lt;span style=&#34;color: #A0A000&#34;&gt;navigationController&lt;/span&gt;:(UINavigationController &lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt;)navigationController
                                   &lt;span style=&#34;color: #A0A000&#34;&gt;animationControllerForOperation&lt;/span&gt;:(UINavigationControllerOperation)operation
                                                &lt;span style=&#34;color: #A0A000&#34;&gt;fromViewController&lt;/span&gt;:(UIViewController &lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt;)fromVC
                                                  &lt;span style=&#34;color: #A0A000&#34;&gt;toViewController&lt;/span&gt;:(UIViewController &lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt;)toVC  NS_AVAILABLE_IOS(&lt;span style=&#34;color: #666666&#34;&gt;7&lt;/span&gt;_0);
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;H√†m ƒë·∫ßu ti√™n d√πng ƒë·ªÉ b·∫Øt c√°c s·ª± ki·ªán touch v√†o m√†n h√¨nh, tr·∫£ v·ªÅ object implement &lt;em&gt;UIViewControllerInteractiveTransitioning&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;H√†m th·ª© hai x√°c ƒë·ªãnh c√°ch th·ª©c push/pop khi ta click action (next/back) tr√™n thanh navigation bar, tr·∫£ v·ªÅ object implement &lt;em&gt;UIViewControllerAnimatedTransitioning&lt;/em&gt;. C√°c params gi√∫p ta x√°c ƒë·ªãnh ƒë∆∞·ª£c &lt;em&gt;fromVC&lt;/em&gt; l√† viewcontroller n√†o, &lt;em&gt;toVC&lt;/em&gt; l√† viewcontroller n√†o. ·ªû tr∆∞·ªùng h·ª£p di chuy·ªÉn t·ª´ A sang B th√¨ A l√† &lt;em&gt;fromVC&lt;/em&gt; v√† B l√† &lt;em&gt;toVC&lt;/em&gt;.
Cu·ªëi c√πng l√† param &lt;em&gt;operation&lt;/em&gt;, ƒë√¢y l√† enum g·ªìm c√≥ 3 value ƒë·ªÉ x√°c ƒë·ªãnh tr·∫°ng th√°i push hay pop&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt; UINavigationControllerOperationNone,
 UINavigationControllerOperationPush,
 UINavigationControllerOperationPop,
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id=&#34;uiviewcontrolleranimatedtransitioning&#34;&gt;UIViewControllerAnimatedTransitioning&lt;/h4&gt;

&lt;p&gt;c√≥ 2 ph∆∞∆°ng th·ª©c&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;-&lt;/span&gt; (NSTimeInterval)&lt;span style=&#34;color: #A0A000&#34;&gt;transitionDuration&lt;/span&gt;:(nullable id &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;UIViewControllerContextTransitioning&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;)transitionContext;

&lt;span style=&#34;color: #666666&#34;&gt;-&lt;/span&gt; (&lt;span style=&#34;color: #00BB00; font-weight: bold&#34;&gt;void&lt;/span&gt;)&lt;span style=&#34;color: #A0A000&#34;&gt;animateTransition&lt;/span&gt;:(id &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;UIViewControllerContextTransitioning&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;)transitionContext;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ƒê·ªÉ th·ª±c hi·ªán animation ta c·∫ßn 2 th√¥ng s·ªë, th√¥ng s·ªë ƒë·∫ßu ti√™n l√† duration, h√†m ƒë·∫ßu ti√™n gi√∫p ta x√°c ƒë·ªãnh ƒë∆∞·ª£c ƒëi·ªÅu ƒë√≥. Ph∆∞∆°ng th·ª©c th·ª© hai d√πng ƒë·ªÉ implement animation chuy·ªÉn ƒë·ªïi. Trong h√†m n√†y ta c·∫ßn ƒë∆∞a ra th√¥ng b√°o ƒë·ªÉ bi·∫øt ƒë∆∞·ª£c qu√° tr√¨nh push/pop ƒë∆∞·ª£c ho√†n th√†nh&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;[transitionContext &lt;span style=&#34;color: #A0A000&#34;&gt;completeTransition&lt;/span&gt;:&lt;span style=&#34;color: #666666&#34;&gt;!&lt;/span&gt;[transitionContext transitionWasCancelled]];
&lt;/pre&gt;&lt;/div&gt;


&lt;h4 id=&#34;example&#34;&gt;Example&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;B∆∞·ªõc 1:&lt;/strong&gt; T·∫°o ra object implement protocol &lt;em&gt;UIViewControllerAnimatedTransitioning&lt;/em&gt;, tr∆∞·ªõc h·∫øt x√°c ƒë·ªãnh duration&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;-&lt;/span&gt; (NSTimeInterval)&lt;span style=&#34;color: #A0A000&#34;&gt;transitionDuration&lt;/span&gt;:(id &lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;UIViewControllerContextTransitioning&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;)transitionContext
{
    &lt;span style=&#34;color: #AA22FF; font-weight: bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0.25&lt;/span&gt;;
}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ƒê·ªãnh nghƒ©a m·ªôt animation ƒë∆°n gi·∫£n&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #008800; font-style: italic&#34;&gt;/**&lt;/span&gt;
&lt;span style=&#34;color: #008800; font-style: italic&#34;&gt; * using example in &lt;/span&gt;
&lt;span style=&#34;color: #008800; font-style: italic&#34;&gt; * https://www.objc.io/issues/5-ios7/view-controller-transitions/ &lt;/span&gt;
&lt;span style=&#34;color: #008800; font-style: italic&#34;&gt; */&lt;/span&gt;

&lt;span style=&#34;color: #666666&#34;&gt;-&lt;/span&gt; (&lt;span style=&#34;color: #00BB00; font-weight: bold&#34;&gt;void&lt;/span&gt;)&lt;span style=&#34;color: #A0A000&#34;&gt;animateTransition&lt;/span&gt;:(id&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;UIViewControllerContextTransitioning&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;)transitionContext
{
    &lt;span style=&#34;color: #008800; font-style: italic&#34;&gt;//1.&lt;/span&gt;
    UIViewController&lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt; toViewController &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; [transitionContext &lt;span style=&#34;color: #A0A000&#34;&gt;viewControllerForKey&lt;/span&gt;:UITransitionContextToViewControllerKey];
    UIViewController&lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt; fromViewController &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; [transitionContext &lt;span style=&#34;color: #A0A000&#34;&gt;viewControllerForKey&lt;/span&gt;:UITransitionContextFromViewControllerKey];

    &lt;span style=&#34;color: #008800; font-style: italic&#34;&gt;//2.&lt;/span&gt;
    [[transitionContext containerView] &lt;span style=&#34;color: #A0A000&#34;&gt;addSubview&lt;/span&gt;:toViewController.view];
    toViewController.view.alpha &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;0&lt;/span&gt;;

    &lt;span style=&#34;color: #008800; font-style: italic&#34;&gt;//3.&lt;/span&gt;
    [UIView &lt;span style=&#34;color: #A0A000&#34;&gt;animateWithDuration&lt;/span&gt;:[self &lt;span style=&#34;color: #A0A000&#34;&gt;transitionDuration&lt;/span&gt;:transitionContext] &lt;span style=&#34;color: #A0A000&#34;&gt;animations&lt;/span&gt;:&lt;span style=&#34;color: #666666&#34;&gt;^&lt;/span&gt;{
        fromViewController.view.transform &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; CGAffineTransformMakeScale(&lt;span style=&#34;color: #666666&#34;&gt;0.1&lt;/span&gt;, &lt;span style=&#34;color: #666666&#34;&gt;0.1&lt;/span&gt;);
        toViewController.view.alpha &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #666666&#34;&gt;1&lt;/span&gt;;
    } &lt;span style=&#34;color: #A0A000&#34;&gt;completion&lt;/span&gt;:&lt;span style=&#34;color: #666666&#34;&gt;^&lt;/span&gt;(BOOL finished) {
        fromViewController.view.transform &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; CGAffineTransformIdentity;

        &lt;span style=&#34;color: #008800; font-style: italic&#34;&gt;//4.&lt;/span&gt;
        [transitionContext &lt;span style=&#34;color: #A0A000&#34;&gt;completeTransition&lt;/span&gt;:&lt;span style=&#34;color: #666666&#34;&gt;!&lt;/span&gt;[transitionContext transitionWasCancelled]];

    }];

}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ph√¢n t√≠ch ch√∫t n√†o:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;B∆∞·ªõc 1: x√°c ƒë·ªãnh toViewController v√† fromViewController&lt;/li&gt;
&lt;li&gt;B∆∞·ªõc 2: add toViewController.view v√†o trong container&lt;/li&gt;
&lt;li&gt;B∆∞·ªõc 3: th·ª±c hi·ªán animation.&lt;/li&gt;
&lt;li&gt;B∆∞·ªõc 4: th√¥ng b√°o animation k·∫øt th√∫c qua c√¢u l·ªánh &lt;em&gt;completeTransition&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;B∆∞·ªõc 2:&lt;/strong&gt;
T·∫°o object implement protocol &lt;em&gt;UINavigationControllerDelegate&lt;/em&gt;, trong object n√†y ta c·∫ßn truy·ªÅn v√†o object ƒë√£ implement &lt;em&gt;UIViewControllerAnimatedTransitioning&lt;/em&gt; tr∆∞·ªõc ƒë√≥.&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #666666&#34;&gt;-&lt;/span&gt;(id&lt;span style=&#34;color: #666666&#34;&gt;&amp;lt;&lt;/span&gt;UIViewControllerAnimatedTransitioning&lt;span style=&#34;color: #666666&#34;&gt;&amp;gt;&lt;/span&gt;)&lt;span style=&#34;color: #A0A000&#34;&gt;navigationController&lt;/span&gt;:(UINavigationController &lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt;)navigationController
                                 &lt;span style=&#34;color: #A0A000&#34;&gt;animationControllerForOperation&lt;/span&gt;:(UINavigationControllerOperation)operation
                                              &lt;span style=&#34;color: #A0A000&#34;&gt;fromViewController&lt;/span&gt;:(UIViewController &lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt;)fromVC
                                                &lt;span style=&#34;color: #A0A000&#34;&gt;toViewController&lt;/span&gt;:(UIViewController &lt;span style=&#34;color: #666666&#34;&gt;*&lt;/span&gt;)toVC
{
    &lt;span style=&#34;color: #008800; font-style: italic&#34;&gt;// return your custom animation transition&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;B∆∞·ªõc 3&lt;/strong&gt;
Setting ·ªü viewcontroller, nh∆∞ ·ªü tr√™n ta c√≥ viewcontroller A -&amp;gt; B. ·ªû A ta c·∫ßn l√†m nh∆∞ sau tr∆∞·ªõc khi push.&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #f8f8f8&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span style=&#34;color: #008800; font-style: italic&#34;&gt;//1.&lt;/span&gt;
self.navigationController.delegate &lt;span style=&#34;color: #666666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #008800; font-style: italic&#34;&gt;/* your custom UINavigationControllerDelegate */&lt;/span&gt;;
&lt;span style=&#34;color: #008800; font-style: italic&#34;&gt;//2.&lt;/span&gt;
[self.navigationController &lt;span style=&#34;color: #A0A000&#34;&gt;pushViewController&lt;/span&gt;:B &lt;span style=&#34;color: #A0A000&#34;&gt;animated&lt;/span&gt;:YES];
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;·ªû b∆∞·ªõc n√†y ta ƒë√£ c√≥ th·ªÉ push/pop v·ªõi animation, nh∆∞ng ƒë·ªÉ &lt;em&gt;full service&lt;/em&gt; ta s·∫Ω g·∫Øn th√™m &lt;em&gt;interactive animations&lt;/em&gt;. Tuy nhi√™n ·ªü gi·ªõi h·∫°n b√†i vi·∫øt n√†y m√¨nh s·∫Ω ch·ªâ n√≥i v·ªÅ animation cho push v√† pop. B·∫°n c√≥ th·ªÉ t√¨m hi·ªÉu chi ti·∫øt h∆°n ·ªü &lt;a href=&#34;https://github.com/objcio/issue5-view-controller-transitions&#34;&gt;v√≠ d·ª•&lt;/a&gt; c·ªßa trang &lt;a href=&#34;https://www.objc.io/&#34;&gt;objc.io&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;M·ªôt animation m√¨nh l√†m&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://media.giphy.com/media/l2Sq1x6bWR3i9S8sU/giphy.gif&#34; alt=&#34;gif&#34; /&gt;&lt;/p&gt;

&lt;p&gt;B√†i vi·∫øt c√≥ tham kh·∫£o&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.objc.io/issues/5-ios7/view-controller-transitions/&#34;&gt;https://www.objc.io/issues/5-ios7/view-controller-transitions/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://whoisryannystrom.com/2013/10/01/View-Controller-Transition-Orientation/&#34;&gt;http://whoisryannystrom.com/2013/10/01/View-Controller-Transition-Orientation/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Code s·∫°ch, code kh√¥ tho√°ng</title>
      <link>https://gg4acrossover.github.io/hugosite/code-sach-code-kho-thoang/</link>
      <pubDate>Mon, 05 Sep 2016 16:36:42 +0700</pubDate>
      
      <guid>https://gg4acrossover.github.io/hugosite/code-sach-code-kho-thoang/</guid>
      <description>

&lt;p&gt;ƒê√¢y l√† m·ªôt s·ªë ph∆∞∆°ng ph√°p khi t·ªõ l√†m vi·ªác v·ªõi obj c. V·ªõi m·ªói ng∆∞·ªùi, t·ªï ch·ª©c c√≥ th·ªÉ kh√°c, th·∫ø n√™n c√°i n√†y ch·ªâ mang t√≠nh tham kh·∫£o. üòÑ&lt;/p&gt;

&lt;h3 id=&#34;s·ª≠-d·ª•ng-immutable&#34;&gt;S·ª≠ d·ª•ng immutable&lt;/h3&gt;

&lt;p&gt;ƒê·ªëi v·ªõi array hay dictionary n·∫øu kh√¥ng c·∫ßn s·ª≠ d·ª•ng mutable th√¨ ta n√™n vi·∫øt nh∆∞ sau:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;	NSArray *pFruit = @[@&amp;quot;orange&amp;quot;, @&amp;quot;apple&amp;quot;, @&amp;quot;lemon&amp;quot;, @&amp;quot;strawberry&amp;quot;];
	NSDictionary *pDict = @{ @&amp;quot;name&amp;quot; : @&amp;quot;Tom&amp;quot;,  @&amp;quot;age&amp;quot; : @18};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Thay v√¨ vi·∫øt:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;	NSArray *pFruit = [NSArray arrayWithObjects:@&amp;quot;orange&amp;quot;, @&amp;quot;apple&amp;quot;, @&amp;quot;lemon&amp;quot;, @&amp;quot;strawberry&amp;quot;, nil];
	NSDictionary *pDict2 = [NSDictionary dictionaryWithObjectsAndKeys:@&amp;quot;value1&amp;quot;,@&amp;quot;key1&amp;quot;,@&amp;quot;value2&amp;quot;, @&amp;quot;key2&amp;quot;, nil];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nh∆∞ th·∫ø code nh√¨n tr√¥ng g·ªçn v√† d·ªÖ ƒë·ªçc h∆°n, ƒë·ªëi v·ªõi c√°c bi·∫øn d·∫°ng s·ªë ho·∫∑c bool ƒë∆∞·ª£c ƒë∆∞a v√†o trong dictionary ƒë·ªÉ g·ª≠i l√™n server ta c≈©ng n√™n l√†m nh∆∞ v·∫≠y.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;	NSNumber *pIsNew = @YES;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Thay v√¨&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;	NSNumber *pIsNew = [NSNumber numberWithBool:YES];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;S·ª≠ d·ª•ng category&lt;/p&gt;

&lt;p&gt;Frame ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu khi vi·∫øt code iOS, ta c√≥ th·ªÉ t·∫°o ra m·ªôt file ch·ª©a c√°c c function chuy√™n l√†m vi·ªác v·ªõi frame, hay t·∫°o ra m·ªôt macro. V√≠ d·ª• nh∆∞ mu·ªën l·∫•y originX c·ªßa 1 uiview:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;	CGFloat ORIGIN_X( CGRect rec)
	{
            return rec.origin.x;
	}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ho·∫∑c ng·∫Øn h∆°n v·ªõi macro&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#define posX(v)                  v.frame.origin.x
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Tuy nhi√™n s·ª≠ d·ª•ng category c≈©ng l√† m·ªôt l·ª±a ch·ªçn th·ªùi th∆∞·ª£ng. Gi·∫£ s·ª≠ b·∫°n c√≥ th·ªÉ l·∫•y originX b·∫±ng c√°ch sau:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;CGFloat originX = [PopUpView getX];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Kh√° ng·∫Øn g·ªçn, clear, d·ªÖ ch·ªânh s·ª≠a. Category c√≤n ƒë·∫∑c bi·ªát v·ªõi nh·ªØng ai hay g·ª≠i nh·∫≠n d·ªØ li·ªáu l√™n server, ƒë√¥i khi dictionary s·∫Ω tr·∫£ v·ªÅ m·ªôt c√°i object null. Vi·ªác check null ·ªü nhi·ªÅu ch·ªó kh√°c nhau kh√° l√† t·ªën th·ªùi gian n·∫øu c·ª© ph·∫£i vi·∫øt ƒëi vi·∫øt l·∫°i nh∆∞ th·∫ø n√†y&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;if(dict[@&amp;quot;key&amp;quot;] &amp;amp;&amp;amp; ![dict[@&amp;quot;key&amp;quot;] isEqual: [NSNull null]])
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ta c√≥ th·ªÉ ƒë∆∞a v√†o category theo c√°ch sau&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;- (id)safeValueForKey:(NSString *)key {
    id value = [self valueForKey:key];
     
    if (value &amp;amp;&amp;amp; ![value isEqual: [NSNull null]]) {
        return value;
    }
     
    return nil;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Sau ƒë√≥ ·ªü t·∫•t c·∫£ m·ªçi n∆°i ch·ªâ c·∫ßn g·ªçi&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;NSString *pValue = [dict safeValueForKey: @&amp;quot;key&amp;quot;];
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;s·ª≠-d·ª•ng-block&#34;&gt;S·ª≠ d·ª•ng block&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;UIView *pCircle2 = ({
	UIView *pView = [[UIView alloc]
					initWithFrame:CGRectMake(80.0f, 80.0f, 90.0f, 90.0f)];
	pView.backgroundColor = [UIColor redColor];
	CAShapeLayer *shape = [CAShapeLayer layer];
	CGFloat r = CGRectGetWidth(pView.frame)*0.5f;
	CGPoint center = CGPointMake( r, r);
	UIBezierPath *path = [UIBezierPath bezierPathWithArcCenter:center
							    radius:r
							startAngle:0
							  endAngle:2*M_PI
							 clockwise:YES];
	shape.path = path.CGPath;
	pView.layer.mask = shape;
	pView;
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;G·ªôp c√°c ƒëo·∫°n code s·ª≠ d·ª•ng chung cho m·ªôt m·ª•c ƒë√≠ch v√†o trong 1 block, v·ªõi c√°ch n√†y th√¨ gi√° tr·ªã return t∆∞∆°ng ·ª©ng v·ªõi d√≤ng cu·ªëi trong block.&lt;/p&gt;

&lt;h3 id=&#34;c√°ch-ƒë·∫∑t-t√™n&#34;&gt;C√°ch ƒë·∫∑t t√™n&lt;/h3&gt;

&lt;p&gt;Nhi·ªÅu t√†i li·ªáu c·ªßa apple c≈©ng c√≥ n√≥i v·ªÅ c√°ch ƒë·∫∑t t√™n. M·ªçi ng∆∞·ªùi h√£y ch√∫ √Ω delegate c·ªßa uitableview hay uicollectionview s·∫Ω th·∫•y c√≥ nhi·ªÅu ƒëi·ªÉm t∆∞∆°ng ƒë·ªìng trong c√°ch ƒë·∫∑t t√™n h√†m.
V√≠ d·ª• guide c·ªßa apple &lt;a href=&#34;https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CodingGuidelines/Articles/NamingMethods.html#//apple_ref/doc/uid/20001282-BCIGIJJF&#34;&gt;datten&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;T·ª´ c√°ch ƒë·∫∑t t√™n tr√™n ta c√≥ th·ªÉ t·∫°o ra enum nh∆∞ sau&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;typedef NS_ENUM(NSUInteger, GGAnimationViewType) {
    GGAnimationViewTypeFadeIn,
    GGAnimationViewTypeFadeOut,
    GGAnimationViewTypeEaseIn,
    GGAnimationViewTypeEaseOut
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;C√¥ng th·ª©c chung l√† [t√™n class][t√™n enum], c·ª• th·ªÉ nh∆∞ v√≠ d·ª• tr√™n [GGAnimationView][Type].
C√°c gi√° tr·ªã enum [t√™n class][t√™n enum][c√°c gi√° tr·ªã]. C√°c gi√° tr·ªã FadeIn, FadeOut,&amp;hellip;.&lt;/p&gt;

&lt;p&gt;T√≥m l·∫°i l√† code c√†ng ng·∫Øn g·ªçn c√†ng d·ªÖ hi·ªÉu, tr·ª´ c√°ch ƒë·∫∑t t√™n bi·∫øn ra :v.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>C√°c thu·ªôc t√≠nh c·ªßa property trong objC</title>
      <link>https://gg4acrossover.github.io/hugosite/c%C3%A1c-thu%E1%BB%99c-t%C3%ADnh-c%E1%BB%A7a-property-trong-objc/</link>
      <pubDate>Thu, 01 Sep 2016 17:22:59 +0700</pubDate>
      
      <guid>https://gg4acrossover.github.io/hugosite/c%C3%A1c-thu%E1%BB%99c-t%C3%ADnh-c%E1%BB%A7a-property-trong-objc/</guid>
      <description>

&lt;p&gt;Th·ªùi gian ƒë·∫ßu l√†m vi·ªác v·ªõi obj-c m√¨nh kh√° bƒÉn khoƒÉn trong vi·ªác s·ª≠ d·ª•ng c√°c thu·ªôc t√≠nh trong property nh∆∞ strong, weak, copy, assign. Nh√¢n l√∫c r·∫£nh r·ªói sinh n√¥ng n·ªïi, m√¨nh gi·ªõi thi·ªáu qua v·ªÅ v·∫•n ƒë·ªÅ n√†y ƒë·ªÉ nh·ªØng ai m·ªõi l√†m quen v·ªõi obj-c s·∫Ω ti·∫øp c·∫≠n nhanh h∆°n.&lt;/p&gt;

&lt;p&gt;V√¨ nh·ªØng c√°i s·∫Øp tr√¨nh b√†y c√≥ li√™n quan ƒë·∫øn b·ªô nh·ªõ, m√¨nh s·∫Ω n√≥i qua v·ªÅ stack v√† heap tr∆∞·ªõc khi ƒëi v√†o v·∫•n ƒë·ªÅ ch√≠nh.&lt;/p&gt;

&lt;h1 id=&#34;stack&#34;&gt;Stack&lt;/h1&gt;

&lt;p&gt;Stack l√† v√πng b·ªô nh·ªõ ƒë·ªÉ ch·ª©a bi·∫øn local, bi·∫øn t·∫°m. Khi b·∫°n t·∫°o ra ƒë·ªëi t∆∞·ª£ng v√† ƒë∆∞·ª£c l∆∞u tr√™n stack th√¨ vi·ªác qu·∫£n l√Ω b·ªô nh·ªõ di·ªÖn ra m·ªôt c√°ch t·ª± ƒë·ªông. Th·∫ø n√™n b·∫°n kh√¥ng ph·∫£i b·∫≠n t√¢m ƒë·∫øn v·∫•n ƒë·ªÅ memory leak.&lt;/p&gt;

&lt;h1 id=&#34;heap&#34;&gt;Heap&lt;/h1&gt;

&lt;p&gt;V√πng b·ªô nh·ªõ m√† b·∫°n mu·ªën s·ª≠ d·ª•ng t·ª± ph·∫£i c·∫•p ph√°t v√† gi·∫£i ph√≥ng khi c·∫ßn thi·∫øt. B·∫°n tr·ª±c ti·∫øp qu·∫£n l√Ω n√≥, th·∫ø n√™n kh·∫£ nƒÉng r√≤ r·ªâ b·ªô nh·ªõ c√≥ th·ªÉ x·∫£y ra. Nh∆∞ C, ta ƒë√£ malloc th√¨ ph·∫£i free. V·∫•n ƒë·ªÅ n√†y d·ªÖ th·ªü h∆°n khi s·ª≠ d·ª•ng JAVA hay Obj-C (c∆° ch·∫ø garbage collection).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;============&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;L·ª£i th·∫ø trong vi·ªác s·ª≠ d·ª•ng stack l√† t·ªëc ƒë·ªô nhanh, s·ª± ƒë∆°n gi·∫£n (t·ª± ƒë·ªông h·ªßy khi h√†m return ho·∫∑c khi ra kh·ªèi scope). Tuy nhi√™n, khi l·∫≠p tr√¨nh ch√∫ng ta c√≥ xu h∆∞·ªõng mu·ªën qu·∫£n l√Ω lifetime c·ªßa ƒë·ªëi t∆∞·ª£ng, th·∫ø n√™n ta s·ª≠ d·ª•ng heap kh√° th∆∞·ªùng xuy√™n.&lt;/p&gt;

&lt;p&gt;ƒê·ªëi t∆∞·ª£ng trong obj-c th√¨ h·∫ßu h·∫øt ƒë∆∞·ª£c l∆∞u ·ªü heap. Apple d·ªãu d√†ng nghƒ© ra strong, weak, copy, assign ƒë·ªÉ coder qu·∫£n l√Ω b·ªô nh·ªõ thu·∫≠n ti·ªán h∆°n (nh·ªù ARC). Nh∆∞ng nhi·ªÅu thu·ªôc t√≠nh nh∆∞ th·∫ø d·ªÖ l√†m coder bƒÉn khoƒÉn c√°i n√†o n√™n d√πng, c√°i n√†o kh√¥ng.&lt;/p&gt;

&lt;h1 id=&#34;strong&#34;&gt;Strong&lt;/h1&gt;

&lt;p&gt;C∆° ch·∫ø qu·∫£n l√Ω b·ªô nh·ªõ c·ªßa ARC l√† n√≥ s·∫Ω ƒë·∫øm s·ªë reference ƒë·∫øn m·ªôt ƒë·ªëi t∆∞·ª£ng c·ª• th·ªÉ n√†o ƒë√≥. Khi con s·ªë reference n√†y b·∫±ng 0 th√¨ ƒë·ªëi t∆∞·ª£ng ƒë√≥ t·ª± ƒë·ªông gi·∫£i ph√≥ng kh·ªèi b·ªô nh·ªõ. Ta kh√¥ng ph·∫£i h·ªßy b·∫±ng tay n·ªØa. Strong s·∫Ω l√†m cho reference t·ªõi ƒë·ªëi t∆∞·ª£ng tƒÉng l√™n 1 ƒë∆°n v·ªã, khi ƒë√≥ ta n√≥i ƒë·ªëi t∆∞·ª£ng c√≥ 1 owner. M·ªôt ƒë·ªëi t∆∞·ª£ng c√≥ th·ªÉ c√≥ nhi·ªÅu owner. Nh∆∞ng t·ªët h∆°n h·∫øt l√† c·ªë g·∫Øng l√†m sao ƒë·ªÉ m·ªôt ƒë·ªëi t∆∞·ª£ng ch·ªâ c√≥ 1 ho·∫∑c 2 owner th√¥i. V√¨ sao s·∫Ω n√≥i ·ªü ph·∫ßn weak.&lt;/p&gt;

&lt;p&gt;Ta s·ª≠ d·ª•ng strong ƒë·ªëi v·ªõi c√°c UIView, UITableView,&amp;hellip; khi t·ª± t·∫°o View b·∫±ng code, ch·ª© kh√¥ng ph·∫£i b·∫±ng storyboard hay xib.&lt;/p&gt;

&lt;h1 id=&#34;weak&#34;&gt;Weak&lt;/h1&gt;

&lt;p&gt;C≈©ng t∆∞∆°ng t·ª± nh∆∞ strong, ngo·∫°i tr·ª´ vi·ªác n√≥ kh√¥ng tƒÉng s·ªë owner t·ªõi ƒë·ªëi t∆∞·ª£ng . Weak kh√¥ng tr·ª±c ti·∫øp can thi·ªáp v√†o vi·ªác h·ªßy c·ªßa ƒë·ªëi t∆∞·ª£ng, v·ªën l√† c√¥ng vi·ªác c·ªßa strong. V·∫≠y t√°c d·ª•ng c·ªßa weak l√† g√¨? N·∫øu ta c√≥ nhi·ªÅu owner (strong) ƒë·∫øn ƒë·ªëi t∆∞·ª£ng th√¨ s·∫Ω r·∫Øc r·ªëi cho vi·ªác gi·∫£i ph√≥ng b·ªô nh·ªõ, th·∫ø n√™n ta c·∫ßn d√πng ƒë·∫øn weak.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://s3-ap-southeast-1.amazonaws.com/kipalog.com/173cc1b2eae8a7c4.png_tn5mgte0n5&#34; alt=&#34;Kipalog&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Nh∆∞ ta th·∫•y ·ªü h√¨nh tr√™n, Person v√† Apartment c√≥ reference qua nhau. Khi john v√† number73 kh√¥ng c√≤n owner ƒë·∫øn 2 th·ª±c th·ªÉ n√†y n·ªØa th√¨ 2 th·ª±c th·ªÉ n√†y v·∫´n kh√¥ng b·ªã h·ªßy. L√Ω do l√† v√¨ owner t·ªõi 2 ƒë·ªëi t∆∞·ª£ng n√†y ch∆∞a v·ªÅ 0. (v·∫´n ƒëang strong qua l·∫°i)&lt;/p&gt;

&lt;p&gt;Ph∆∞∆°ng √°n gi·∫£i quy·∫øt nh∆∞ sau&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://s3-ap-southeast-1.amazonaws.com/kipalog.com/0f3a1ba4a040045d.png_w7vzy9u63n&#34; alt=&#34;Kipalog&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Li√™n k·∫øt gi·ªëng nh∆∞ tr√™n hay b·∫Øt g·∫∑p khi s·ª≠ d·ª•ng delegate. V·∫≠y n√™n ta hay d√πng weak ƒë·ªëi v·ªõi delegate. N·∫øu c√°c b·∫°n t·∫°o file xib v√† k√©o th·∫£ giao di·ªán v√†o trong class th√¨ t·∫•t c·∫£ c√°c ƒë·ªëi t∆∞·ª£ng ƒë·ªÅu ƒë√£ c√≥ owner trong file xib. ƒê·∫•y l√† l√Ω do Properties trong class ch·ªâ li√™n k·∫øt weak v·ªõi ƒë·ªëi t∆∞·ª£ng, tr√°nh x·∫£y ra hi·ªán t∆∞·ª£ng nhi·ªÅu li√™n k·∫øt strong.&lt;/p&gt;

&lt;h1 id=&#34;assign&#34;&gt;Assign&lt;/h1&gt;

&lt;p&gt;D√πng cho c√°c bi·∫øn nguy√™n th·ªßy nh∆∞ NSInteger, CGFloat, CGPoint, CGRect&amp;hellip;&lt;/p&gt;

&lt;h1 id=&#34;copy&#34;&gt;Copy&lt;/h1&gt;

&lt;p&gt;Copy ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªëi v·ªõi nh·ªØng ƒë·ªëi t∆∞·ª£ng Mutable nh∆∞ NSMutableArray, NSMutableDictionary&amp;hellip;ho·∫∑c Immutable. Gi·∫£ s·ª≠ ta c√≥ ƒë·ªëi t∆∞·ª£ng A, ta mu·ªën t·∫°o ra ƒë·ªëi t∆∞·ª£ng B gi·ªëng h·ªát A r·ªìi thay ƒë·ªïi B m√† kh√¥ng l√†m ·∫£nh h∆∞·ªüng ƒë·∫øn A th√¨ l√∫c ƒë√≥ copy ph√°t huy t√°c d·ª•ng.&lt;/p&gt;

&lt;p&gt;NSString c√≥ th·ªÉ s·ª≠ d·ª•ng thu·ªôc t√≠nh strong nh∆∞ng nhi·ªÅu l·∫≠p tr√¨nh vi√™n s·ª≠ d·ª•ng copy h∆°n. Ta c√≥ ƒëo·∫°n code nh∆∞ sau&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;NSMutableString *pStrMutable = [[NSMutableString alloc] initWithCapacity:100];
[pStrMutable setString:@&amp;quot;HelloWorld&amp;quot;];
NSString *pStrImmutable = pStrMutable; // helloWorld
[pStrMutable setString:@&amp;quot;another text&amp;quot;];
NSLog(@&amp;quot;%@&amp;quot;, pStrImmutable); // another text
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;NSMutableString &lt;em&gt;c√≥ th·ªÉ l√†m NSString&lt;/em&gt; tr·ªè ƒë·∫øn m·ªôt text kh√°c, l√†m sai l·ªách text m√† ta mong mu·ªën. Ta n√™n s·ª≠ d·ª•ng copy v·ªõi nh·ªØng ƒë·ªëi t∆∞·ª£ng c√≥ c·∫£ Immutable v√† mutable nh∆∞ String, Dictionary.&lt;/p&gt;

&lt;p&gt;Ngo√†i ra copy c√≤n s·ª≠ d·ª•ng v·ªõi block ^{}. Block c≈©ng l√† m·ªôt ƒë·ªëi t∆∞·ª£ng trong obj-c nh∆∞ng c√≥ m·ªôt ƒëi·ªÅu ƒë·∫∑c bi·ªát, ƒë·ªëi t∆∞·ª£ng n√†y l∆∞u ·ªü stack. Nh∆∞ gi·∫£i th√≠ch ·ªü ph·∫ßn stack th√¨ ta s·∫Ω kh√¥ng qu·∫£n l√Ω ƒë∆∞·ª£c lifetime c·ªßa ƒë·ªëi t∆∞·ª£ng l∆∞u trong stack m√† vi·ªác n√†y di·ªÖn ra t·ª± ƒë·ªông m·ªói khi h√†m return hay ra kh·ªèi scope. Thu·ªôc t√≠nh copy ƒë·ªÉ t·∫°o ra 1 b·∫£n&amp;hellip;copy c·ªßa block, l∆∞u ·ªü heap. L√∫c n√†y ARC s·∫Ω qu·∫£n l√Ω vi·ªác gi·∫£i ph√≥ng b·ªô nh·ªõ gi√∫p ta.&lt;/p&gt;

&lt;p&gt;M·ªôt s·ªë link hay ƒë·ªÉ tham kh·∫£o:
&lt;a href=&#34;http://www.objc.io/issue-7/value-objects.html&#34;&gt;objc.io&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>